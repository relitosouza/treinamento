<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Treinamento SMARAPD - Execução e Controle</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css" id="theme">
    
    <style>
        /* Estilos Globais */
        .reveal h1, .reveal h2, .reveal h3 {
            text-transform: none;
            color: #003366; 
        }
        .reveal h2 { font-size: 1.6em; }
        
        /* Estilos do Fluxo Horizontal (Slide 2) */
        .flow-container {
            display: flex;
            flex-direction: row; /* Mudança para Horizontal */
            justify-content: center;
            align-items: flex-start;
            gap: 5px;
            margin-top: 20px;
        }

        .flow-step {
            background: #003366;
            color: white;
            padding: 10px;
            border-radius: 8px;
            width: 22%; /* Largura fixa para caber na tela */
            font-size: 0.55em; /* Fonte menor para caber os relatórios */
            text-align: left;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            display: none; /* Começa oculto para animação */
            position: relative;
        }

        .flow-title {
            font-size: 1.4em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            padding-bottom: 5px;
            display: block;
        }

        .report-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .report-list li {
            margin-bottom: 4px;
            line-height: 1.2;
        }

        .code-tag {
            color: #ffcc00; /* Amarelo para destacar o código */
            font-weight: bold;
            font-family: monospace;
        }

        .arrow { 
            font-size: 2em; 
            color: #005b96; 
            align-self: center;
            margin: 0 5px;
            display: none; /* Começa oculto */
        }

        /* Botão de Animação */
        .btn-animate {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 #218838;
            transition: all 0.1s;
        }
        .btn-animate:active {
            box-shadow: 0 2px 0 #218838;
            transform: translateY(2px);
        }

        /* Outros Estilos (Slides seguintes) */
        .report-box {
            background-color: #f0f4f8;
            border-left: 5px solid #003366;
            padding: 15px;
            margin-bottom: 20px;
            text-align: left;
            font-size: 0.8em;
        }
        .report-code {
            font-weight: bold;
            color: #d9534f;
            cursor: copy;
        }
        
        /* Toast Notification */
        .toast-msg {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #003366;
            color: white;
            padding: 15px;
            border-radius: 5px;
            z-index: 9999;
            display: none;
        }
    </style>
</head>
<body>
    
    <div id="copyToast" class="toast-msg">Copiado!</div>

    <div class="reveal">
        <div class="slides">

            <section>
                <h1>Relatórios de Execução</h1>
                <h3>Orçamentária e Financeira</h3>
                <small>Treinamento Operacional - SMARAPD</small>
            </section>

            <section>
                <h2>O Fluxo da Despesa</h2>
                
                <button id="startFlow" class="btn-animate">▶ Visualizar Passo a Passo</button>

                <div class="flow-container">
                    
                    <div class="flow-step" id="step1">
                        <span class="flow-title">LOA (Fixação)</span>
                        <p>Planejamento inicial aprovado em lei.</p>
                        <ul class="report-list">
                            <li><span class="code-tag">COV00300</span> LOA Despesa</li>
                        </ul>
                    </div>

                    <div class="arrow" id="arrow1">➔</div>

                    <div class="flow-step" id="step2">
                        <span class="flow-title">Reserva</span>
                        <ul class="report-list">
                            <li><span class="code-tag">CER02900</span> Reservas e Movimentos</li>
                            <li><span class="code-tag">CER04400</span> Movimento de Reservas</li>
                            <li><span class="code-tag">CER06300</span> Dem. Execução Despesa</li>
                        </ul>
                    </div>

                    <div class="arrow" id="arrow2">➔</div>

                    <div class="flow-step" id="step3">
                        <span class="flow-title">Empenho</span>
                        <ul class="report-list">
                            <li><span class="code-tag">CER05300</span> Movimento de Empenhos</li>
                            <li><span class="code-tag">CER45000</span> Empenhos e Movimentos</li>
                        </ul>
                    </div>

                    <div class="arrow" id="arrow3">➔</div>

                    <div class="flow-step" id="step4">
                        <span class="flow-title">Liquidação</span>
                        <ul class="report-list">
                            <li><span class="code-tag">CER51000</span> Liquidação e Movimentos</li>
                            <li><span class="code-tag">CER06600</span> Movimento Liquidações</li>
                        </ul>
                    </div>

                </div>
            </section>

            <section>
                <h2>Detalhando: Reservas</h2>
                <div class="report-box">
                    <span class="report-code">CER02900</span> - Reservas e seus Movimentos<br>
                    <small>Essencial para ver o saldo disponível antes de licitar.</small>
                </div>
                <div class="report-box">
                    <span class="report-code">CER06300</span> - Dem. Execução<br>
                    <small>Visão gerencial macro da despesa.</small>
                </div>
            </section>

            <section>
                <h2>Detalhando: Empenho</h2>
                <div class="report-box">
                    <span class="report-code">CER45000</span> - Empenhos e Movimentos<br>
                    <small>O relatório mais completo do sistema. Cruza número do empenho com fornecedor e valores.</small>
                </div>
            </section>

            <section>
                <h2>Dúvidas?</h2>
                <small>Equipe de Finanças</small>
            </section>

        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    
    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            center: true,
            hash: false,
            transition: 'slide'
        });

        $(document).ready(function() {
            
            // Lógica da Animação do Slide 2
            $('#startFlow').click(function() {
                // Reinicia (esconde tudo caso clique de novo)
                $('.flow-step, .arrow').hide();
                $(this).fadeOut(); // Esconde o botão

                // Sequência de Animação (Corrente)
                // Tempo em milissegundos (600ms)
                $('#step1').fadeIn(600, function() {
                    $('#arrow1').fadeIn(600, function() {
                        $('#step2').fadeIn(600, function() {
                            $('#arrow2').fadeIn(600, function() {
                                $('#step3').fadeIn(600, function() {
                                    $('#arrow3').fadeIn(600, function() {
                                        $('#step4').fadeIn(600);
                                    });
                                });
                            });
                        });
                    });
                });
            });

            // Funcionalidade extra: Copiar código ao clicar (mantida do anterior)
            $('.code-tag, .report-code').click(function() {
                var text = $(this).text();
                $('#copyToast').text(text + ' copiado!').fadeIn().delay(1000).fadeOut();
                navigator.clipboard.writeText(text);
            });

        });
    </script>
</body>
</html>
